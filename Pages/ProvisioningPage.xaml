<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="PawfeedsProvisioner.Pages.ProvisioningPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Provisioning">

  <ScrollView>
    <VerticalStackLayout Padding="24" Spacing="16">
      <Label x:Name="TitleLabel"
             Text="Sending credentials to device…"
             FontAttributes="Bold"
             FontSize="20" />

      <Label x:Name="Status"
             Text="Please wait while we configure your device."
             LineBreakMode="WordWrap" />

      <ActivityIndicator x:Name="Spinner" IsRunning="True" IsVisible="True" />

      <!-- This shows after we POST successfully or even on handled failure -->
      <Frame x:Name="NextStepsCard" IsVisible="False" Padding="16" BackgroundColor="#F3F4F6">
        <VerticalStackLayout Spacing="8">
          <Label Text="Next steps" FontAttributes="Bold" />
          <Label Text="1) Reconnect your phone to your HOME Wi-Fi (the same network the device will join)." />
          <Label Text="2) Return to this app and tap Continue." />
          <Label Text="Tip: If you used the device hotspot PAWFEEDS-XXXX, you are no longer connected to the Internet after provisioning." />
        </VerticalStackLayout>
      </Frame>

      <HorizontalStackLayout Spacing="12">
        <Button Text="Open Wi-Fi Settings" Clicked="OpenWifi" />
        <Button x:Name="ContinueBtn" Text="Continue →" Clicked="Continue" IsVisible="False" />
      </HorizontalStackLayout>
    </VerticalStackLayout>
  </ScrollView>
</ContentPage>
